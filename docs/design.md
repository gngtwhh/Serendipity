# 介绍

本项目基于C语言开发,旨在为CTFer编写C环境下的一个简单易用,且高效健壮的常用工具库,以便于CTFer在比赛中可以快速使用C编写出高效的代码,提高比赛效率.

由于CTF题目的特殊性,很多加密,编码算法并不是标准的,所以本项目会尽可能为各个模块接口增加灵活性,以便于CTFer可以根据题目的特殊性进行定制化的修改.
例如`TEA`系列算法的`Deltea值`, `Base64`算法的`自定义编码表`,`RC4`算法的`SBOX大小`等等.

# 项目包含

预计至少有以下几个分类:

- 常用数据结构的ADT实现
- 常用加密算法的实现
- 常用编码算法的实现

# 项目结构

基本的目录结构如下:

```plaintext
Serendipity
├─docs
├─include
│  ├─adt
│  ├─encode
│  └─encrypt
├─src
│  ├─adt
│  ├─encode
│  └─encrypt
├─test
│   ├─Data-Structure
│   │  │ ...
│   ├─Encoding
│   │  │ ...
│   └─Encrypt
│      │ ...
│ CMakelists.txt
│ LICENSE
│ README.md
```

其中:

- `docs`目录存放项目的文档
- `include`目录存放项目的头文件
- `src`目录存放项目的源文件
- `test`目录存放项目的测试文件,使用`cmake`进行构建
- 顶层的`CMakelists.txt`文件用于构建整个项目(开发阶段用于构建测试文件,发布阶段用于构建库文件)
- `LICENSE`文件存放项目的开源协议
- `README.md`文件存放项目的基本信息

新加入的模块应该按照上述的目录结构进行组织,将模块的头文件放在`include`目录下,将模块的源文件放在`src`目录下,将模块的测试文件放在`test`目录下.
在`test`目录下对应文件夹的`CMakelists.txt`文件中添加新的测试文件,在顶层的`CMakelists.txt`文件中添加该模块的构建目录.

# 文件包含关系
- 头文件路径应该从`include`内的子目录开始,例如`adt/list.h`,而不是`include/adt/list.h`
- 每个模块的头文件应该包含该模块私有的全局变量/常量的定义并声明所有函数接口;
- 每个模块的头文件除了依赖模块外,不应该包含其他模块的头文件.
- 每个模块的源文件应该包含该模块对应的头文件,其他依赖模块的头文件应该在对应的头文件中包含,在源文件中不应该包含其他模块的头文件.

换言之,除了必要的依赖模块外,每个模块应该是独立的,不应该依赖于其他模块.
例如:

`SM4`模块依赖于`Pkcspad`模块,则`SM4`模块的头文件中应该包含`Pkcspad`模块的头文件;

`SM4`模块的源文件中应该包含`SM4`模块的头文件,而无需包含`Pkcspad`模块的头文件.